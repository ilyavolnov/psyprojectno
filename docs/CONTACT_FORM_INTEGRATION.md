# Интеграция формы консультации с админкой

## ✅ Что сделано:

### 1. Обработчик отправки формы (script.js)
- Перехват события submit
- Сбор данных формы (имя, телефон, тип пользователя, сообщение)
- Отправка POST запроса на `/api/requests`
- Обработка ответа и ошибок
- Уведомления пользователю

### 2. Система уведомлений
- Красивые всплывающие уведомления
- Успешная отправка (зеленый)
- Ошибка отправки (красный)
- Автоматическое скрытие через 5 секунд

### 3. UX улучшения
- Блокировка кнопки во время отправки
- Индикатор загрузки "Отправка..."
- Изменение цвета кнопки при успехе/ошибке
- Автоматический сброс формы после успеха
- Восстановление кнопки через 3 секунды

## Как работает:

1. Пользователь заполняет форму на главной странице
2. Нажимает "Бесплатная консультация"
3. Данные отправляются в админку через API
4. Заявка появляется в разделе "Заявки" с типом "consultation"
5. Пользователь видит уведомление об успехе

## Структура данных:

```javascript
{
    name: 'Имя пользователя',
    phone: '+7 999 123-45-67',
    message: '[Клиент] Текст сообщения',
    request_type: 'consultation'
}
```

## Состояния кнопки:

- **Обычное**: "Бесплатная консультация"
- **Отправка**: "Отправка..." (заблокирована)
- **Успех**: "✅ Заявка отправлена!" (зеленая, 3 сек)
- **Ошибка**: "❌ Ошибка отправки" (красная, 3 сек)

## Файлы изменены:

1. **script.js** - добавлен обработчик формы `mainContactForm`
2. **styles.css** - добавлены стили уведомлений `.notification`

## Проверка:

1. Откройте главную страницу
2. Заполните форму консультации
3. Отправьте заявку
4. Проверьте админку - заявка должна появиться в разделе "Заявки"
